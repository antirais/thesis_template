\RequirePackage{pdf14}
\pdfminorversion=5
\pdfobjcompresslevel=1
\pdfcompresslevel=9

% define document class and font size
\documentclass[a4paper,oneside,12pt]{report}

% imports
\usepackage[utf8]{inputenc}
\usepackage[square, numbers, comma, sort&compress]{natbib}
\usepackage[top=2.50cm, bottom=2.50cm, left=3.00cm, right=3.00cm, includefoot]{geometry}
\usepackage[english,estonian]{babel}
\usepackage[printonlyused]{acronym}
\usepackage{amssymb} % http://ctan.org/pkg/amssymb
\usepackage{pifont}  % http://ctan.org/pkg/pifont
\usepackage{authoraftertitle}
\usepackage{nameref}
\usepackage{color}
\usepackage{caption}
\usepackage{graphicx}
\usepackage{indentfirst}
\usepackage{listings}
\usepackage[svgnames]{xcolor}
\usepackage{textcomp}
\usepackage{lmodern}
\usepackage{setspace}
\usepackage{tablefootnote}
\usepackage{multicol}
\usepackage{tikz}
\usepackage{times}
\usepackage{booktabs}
\usepackage{titlesec}
\usepackage{verbatim}
\usepackage[hyphens]{url}
\usepackage[hidelinks]{hyperref}
\usepackage[all]{hypcap}
\usepackage[T1]{fontenc}
\usepackage{lastpage}
\usepackage[figure,table,xspace]{totalcount}

% set title, author and date values. Check chapters/declaration.tex for name
\title{Insert title here}
\author{Anti Räis}
\date{2015}

% Generate PDF metadata - show PDF metadata with $ make info
\makeatletter
\hypersetup{
    pdfauthor   = {\@author},
    pdftitle    = {\@title},
    pdfsubject  = {TUT, master's thesis},
    pdfkeywords = {keyword_a, keyword_b},
%    pdfproducer = {},
%    pdfcreator  = {},
}
\makeatother

% define colors for syntax highlight text highlight
\definecolor{marktext}      {HTML}{000000}
\definecolor{markback}      {HTML}{FFFF00}
\definecolor{codegreen}     {HTML}{A6E22E}
\definecolor{codegray}      {HTML}{808080}
\definecolor{codestring}    {HTML}{880000}
\definecolor{backcolor}     {HTML}{FFFFFF}
\definecolor{maroon}        {rgb}{0.5,0,0}
\definecolor{darkgreen}     {rgb}{0,0.5,0}

\newcommand{\hl}[1]{\fboxsep0pt\colorbox{markback}{\color{marktext}\bfseries#1}}
\newcommand{\apos}{\textquotesingle}
\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}
\newcommand*{\fullref}[1]{\hyperref[{#1}]{\ref*{#1} ``\nameref*{#1}''}}

% configure listing
\lstdefinestyle{base}{
    aboveskip           = 2.0em,
    backgroundcolor     = \color{backcolor},
    basicstyle          = \footnotesize\ttfamily\mdseries,
    belowskip           = 0.0em,
    breakatwhitespace   = false,
    breaklines          = true,
    caption             = \lstname,
    captionpos          = b,
    commentstyle        = \color{gray}\ttfamily,
    extendedchars       = true,
    frame               = tb,
    keepspaces          = true,
    keywordstyle        = \color{blue},
    language            = html,
    morecomment         = [l][basicstyle]{http://},
    morecomment         = [l][basicstyle]{https://},
    numbers             = left,
    numbersep           = 5pt,
    numberstyle         = \color{codegray},
    showspaces          = false,
    showstringspaces    = false,
    showtabs            = false,
    stringstyle         = \color{codestring},
    tabsize             = 2,
    upquote             = true,
}
\lstset{style=base, columns=flexible, literate=
  {ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
  {Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
  {â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
  {Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
  {€}{{\EUR}}1 {£}{{\pounds}}1        {Õ}{{\~O}}1 {õ}{{\~o}}1
}

% configure XML syntax highlight
\lstdefinelanguage{XML}
{
    morestring      = [s]{"}{"},
    morecomment     = [s]{?}{?},
    morecomment     = [s]{!--}{--},
    commentstyle    = \color{darkgreen},
    moredelim       = [s][\color{black}]{>}{<},
    moredelim       = [s][\color{red}]{\ }{=},
    stringstyle     = \color{blue},
    identifierstyle = \color{maroon},
}

% configure JavaScript syntax highlight
\lstdefinelanguage{JavaScript}{
    keywords        = {break, case, catch, continue, debugger, default, delete, do, else, false, finally, for, function, if, in, instanceof, new, null, return, switch, this, throw, true, try, typeof, var, void, while, with},
    morecomment     = [l]{//},
    morecomment     = [s]{/*}{*/},
    morestring      = [b]',
    morestring      = [b]",
    ndkeywords      = {class, export, boolean, throw, implements, import, this},
    keywordstyle    = \color{blue}\bfseries,
    ndkeywordstyle  = \color{darkgray}\bfseries,
    identifierstyle = \color{black},
    commentstyle    = \color{codegray}\ttfamily,
    stringstyle     = \color{red}\ttfamily,
    sensitive       = true
}

% Configure titles
\titleformat{\chapter}{}{\bf\LARGE\thechapter.~}{1em}{\bf\LARGE}
%\titlelabel{\thetitle.\quad}
%\captionsetup{labelsep=period}

% Configure graphics folder
\graphicspath{{img/}}

\renewcommand{\bibname}{References}
\renewcommand\lstlistingname{Code example}
\renewcommand\lstlistlistingname{Code examples}

\onehalfspacing
\setlength{\parindent}{2em} % Indent all paragraphs
\setlength{\parskip}{1em}

% document styling and configuration
\begin{document}
% For debuggin overlong lines!
% \overfullrule = 2cm

% So that \url{} would break and stuff wouldn't "run over the edge"
\sloppy

% Fix footnotes splitting in multiple pages
\interfootnotelinepenalty=10000

\input{./chapters/title}
\pagenumbering{roman}
\input{./chapters/declaration}
\newpage
\input{./chapters/abstract}

\singlespacing
\tableofcontents

\newpage
\onehalfspacing
\pagenumbering{arabic}

% include document content
\input{chapters/1/introduction}
\input{chapters/2/chapter-2}
\input{chapters/3/chapter-3}
\input{chapters/4/conclusion}

\renewcommand \bibname{References}
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\bibname}
% \bibliographystyle{abbrvnat}
\bibliographystyle{unsrtnat}
\bibliography{references}

% Code examples
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\lstlistlistingname}
\lstlistoflistings

% List of Figures
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\listfigurename}
\listoffigures

% List of Tables
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\listtablename}
\listoftables

% List of acronyms
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{}
\input{acronyms}

\appendix
\input{appendix}

\end{document}
